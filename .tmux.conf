# ref. http://qiita.com/items/c1b9ea95a820ee5a4a0a
unbind-key C-b
unbind-key C-t
set-option -g prefix C-t
bind-key C-t send-prefix

unbind-key C-q
set-option -g prefix2 C-q
bind-key C-q send-prefix -2

set-window-option -g mode-keys vi

# my configurations
unbind j
bind-key j next-window
unbind C-j
bind-key C-j next-window
unbind k
bind-key k previous-window
unbind C-k
bind-key C-k previous-window
unbind i
bind-key i select-pane -t :.+
unbind C-i
bind-key C-i select-pane -t :.+
unbind C-l
bind-key C-l last-window
unbind C-c
# ref. http://qiita.com/naoty_k/items/954d1d0080d0a7d52584
bind-key c new-window -a -c "#{pane_current_path}" -n ""
bind-key C-c new-window -a -c "#{pane_current_path}" -n ""
bind-key % split-window -h -c "#{pane_current_path}"
bind-key \ split-window -h -c "#{pane_current_path}"
bind-key C-\ split-window -h -c "#{pane_current_path}"
bind-key "'" split-window -v -c "#{pane_current_path}"
bind-key '"' split-window -v -c "#{pane_current_path}"
bind-key x kill-pane
bind-key C-x kill-pane
# ref.
#  http://qiita.com/PSP_T/items/daf224aa331982b8a910
#  http://materia.jp/blog/20120301.html
set -g status-bg green
# ref.
#  https://bytebucket.org/ns9tks/tmux-ja/wiki/tmux-ja.html
#  http://manoftoday.wikidot.com/tmux
bind-key -n F2 previous-window
bind-key -n F3 next-window
bind-key -n F4 new-window -a -c "#{pane_current_path}" -n ""
bind-key -n F5 select-pane -t :.+
bind-key -n C-Up    select-pane -U
bind-key -n C-Down  select-pane -D
bind-key -n C-Left  select-pane -L
bind-key -n C-Right select-pane -R

bind-key r source-file $HOME/.tmux.conf \; display "Reloaded .tmux.conf."

set-option -g status-left-length 10
set-option -g status-right-length 50
set-option -g status-left "#[bg=cyan,fg=black]#S"
# ref. https://coderwall.com/p/pt9cua to show load average
set-option -g status-right "#[default]#[bg=cyan,fg=black]#(uptime | rev | cut -d ':' -f 1 | rev | sed 's/,//g' | sed 's/ //') #(used-mem) #[default]#[bg=blue,fg=black]%m-%d %H:%M"

bind-key C-[ copy-mode
bind-key C-] paste-buffer
# ref. http://blog.m4i.jp/entry/2012/02/13/155233
bind-key -t vi-copy [ cancel
bind-key -t vi-copy ] clear-selection

# Mouse features
set -g mode-mouse on
set -g mouse-select-pane on
set -g mouse-select-window on

# ref. http://vim.wikia.com/wiki/256_colors_setup_for_console_Vim
set -g default-terminal "screen-256color"

# Tmux buffer and clipboard collaboration
bind-key < load-buffer ~/.tmux-buffer \; display-message "Loaded from buffer."

# Status bar notification configurations
# ref. http://www.stathis.co.uk/lein-test-refresh-notification-workflow/
set-option -g display-time 4000

# ref. http://stackoverflow.com/a/22943886/1006253
set-option -g allow-rename off

# ref. http://stackoverflow.com/questions/18760281/how-to-increase-scrollback-buffer-size-in-tmux
set-option -g history-limit 20000
