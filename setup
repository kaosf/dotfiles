#!/bin/bash

for i in \
  .bashrc \
  .bash_aliases \
  .zshrc \
  .vimrc \
  .tmux.conf
do
  if [ ! -s $HOME/$i ]
  then
    ln -s $PWD/$i $HOME/$i
  fi
done
if [ ! -d $HOME/.emacs.d ]
then
  mkdir $HOME/.emacs.d
fi
if [ ! -s $HOME/.emacs.d/init.el ]
then
  ln -s $PWD/.emacs.d_init.el $HOME/.emacs.d/init.el
fi
if [ ! -d $HOME/.lein ]
then
  mkdir $HOME/.lein
fi
if [ ! -f $HOME/.lein/profiles.clj ]
then
  cp $PWD/.lein_profiles.clj $HOME/.lein/profiles.clj
fi
if [ `which git` ]
then
  if [ ! -f $HOME/.gitignore ]
  then
    ln -s $PWD/.gitignore-global $HOME/.gitignore
  fi
  git config --global user.name ka
  git config --global user.email ka.kaosf@gmail.com
  git config --global core.editor vim
  git config --global core.excludesfile $HOME/.gitignore
  git config --global color.ui true
  git config --global github.user kaosf
  git config --global merge.ff false
  git config --global pull.rebase true
  git config --global alias.br branch
  git config --global alias.ci commit
  git config --global alias.co checkout
  git config --global alias.st status
  GIT_VERSION=`git --version | cut -d ' ' -f 3`
  if [ `printf "${GIT_VERSION}\n1.9" | sort -V | head -1` = 1.9 ]
  then
    git config --global push.default simple
  fi
fi
